{"version":3,"sources":["hooks/useApiClient.js","views/Test/Test.js"],"names":["useApiClient","token","accessToken","useSelector","state","auth","client","useContext","ReactReduxContext","store","helpers","useEffect","setJwtToken","apiClient","Test","_useState","useState","_useState2","Object","slicedToArray","loading","setLoading","_useState3","_useState4","data","setData","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","get","sent","t0","stop","apply","this","arguments","loadData","react_default","createElement","className","class","type","disabled","role","aria-hidden","map","item","index","key","title"],"mappings":"oKA2BeA,EAnBM,SAAAC,GACnB,IAAMC,EAAcC,YAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKH,cAIrCI,EAEXC,qBAAWC,KAHbC,MACEC,QAAWJ,OAWf,OAPAK,oBAAU,WACJV,GAAmB,OAAVA,EACXK,EAAOM,YAAYX,GAGrBK,EAAOM,YAAYV,IAClB,CAACA,EAAaI,EAAQL,IAClB,CAAEY,UAAWP,ICmBPQ,UAxCF,WAAM,IAAAC,EACaC,oBAAS,GADtBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACVK,EADUH,EAAA,GACDI,EADCJ,EAAA,GAAAK,EAEON,mBAAS,MAFhBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEVE,EAFUD,EAAA,GAEJE,EAFIF,EAAA,GAGTV,EAAcb,IAAda,UAkBR,OAhBAF,oBAAU,WACRU,GAAW,GACG,eAAAK,EAAAR,OAAAS,EAAA,EAAAT,CAAAU,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEUvB,EAAUwB,IAC/B,8CAHW,OAEPL,EAFOE,EAAAI,KAKbb,EAAQO,GACRX,GAAW,GANEa,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAQbb,GAAW,GARE,yBAAAa,EAAAM,SAAAT,EAAA,iBAAH,yBAAAL,EAAAe,MAAAC,KAAAC,YAAA,EAWdC,IACC,CAAC/B,IAGFgC,EAAAhB,EAAAiB,cAAA,OAAKC,UAAU,mBACbF,EAAAhB,EAAAiB,cAAA,UAAQE,MAAM,kBAAkBC,KAAK,SAASC,UAAQ,GACpDL,EAAAhB,EAAAiB,cAAA,QACEE,MAAM,mCACNG,KAAK,SACLC,cAAY,SAJhB,cAQAP,EAAAhB,EAAAiB,cAAA,WACI1B,GACS,OAATI,GACAA,EAAK6B,IAAI,SAACC,EAAMC,GAAP,OAAiBV,EAAAhB,EAAAiB,cAAA,MAAIU,IAAKD,GAAQD,EAAKG","file":"static/js/79.637e314a.chunk.js","sourcesContent":["import { useContext, useEffect } from 'react';\r\n/**\r\n * vendor components\r\n */\r\nimport { ReactReduxContext, useSelector } from 'react-redux';\r\n/**\r\n * components\r\n */\r\nconst useApiClient = token => {\r\n  const accessToken = useSelector(state => state.auth.accessToken);\r\n  // console.log(\"accessToken useApiClient\", accessToken);\r\n  const {\r\n    store: {\r\n      helpers: { client }\r\n    }\r\n  } = useContext(ReactReduxContext);\r\n\r\n  useEffect(() => {\r\n    if (token && token !== null) {\r\n      client.setJwtToken(token);\r\n      return;\r\n    }\r\n    client.setJwtToken(accessToken);\r\n  }, [accessToken, client, token]);\r\n  return { apiClient: client };\r\n};\r\n\r\nexport default useApiClient;\r\n","import React, { useState, useEffect } from \"react\";\nimport { useApiClient } from \"../../hooks\";\n\nconst Test = () => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const { apiClient } = useApiClient();\n\n  useEffect(() => {\n    setLoading(true);\n    const loadData = async () => {\n      try {\n        const response = await apiClient.get(\n          \"https://jsonplaceholder.typicode.com/todos\"\n        );\n        setData(response);\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n      }\n    };\n    loadData();\n  }, [apiClient]);\n\n  return (\n    <div className=\"animated fadeIn\">\n      <button class=\"btn btn-primary\" type=\"button\" disabled>\n        <span\n          class=\"spinner-border spinner-border-sm\"\n          role=\"status\"\n          aria-hidden=\"true\"\n        ></span>\n        Loading...\n      </button>\n      <ul>\n        {!loading &&\n          data !== null &&\n          data.map((item, index) => <li key={index}>{item.title}</li>)}\n      </ul>\n    </div>\n  );\n};\n\nexport default Test;\n"],"sourceRoot":""}